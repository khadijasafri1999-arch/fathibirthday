<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Happy Birthday Fathi üíñ</title>

<style>
  :root{
    --pink:#ff5bb5; --pink2:#ff9ad6; --violet:#b28cff; --text:#fff6fb; --muted:rgba(255,255,255,.82);
  }
  body{
    margin:0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    background: linear-gradient(180deg,#16012d,#070014);
    color:white;
    text-align:center;
    transition: background .6s ease;
  }

  /* Full screen center */
  .center{
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
  }

  #screen{ white-space:pre-line; transition: opacity .35s ease; }

  .n{ font-size: clamp(90px, 22vw, 170px); font-weight:900; }
  .msg{ font-size: clamp(18px, 4.2vw, 28px); max-width:900px; line-height:1.5; font-weight:800; }
  .love{ font-size: clamp(28px, 8vw, 56px); font-weight:1000; }
  .hb{ font-size: clamp(30px, 8.5vw, 62px); font-weight:1000; }

  button{
    padding:12px 18px;
    border:none;
    border-radius:14px;
    font-weight:900;
    cursor:pointer;
    background:#ff9ad6;
    margin-top:20px;
  }

  #giftBtn{
    position:fixed;
    left:50%;
    bottom:18px;
    transform: translateX(-50%);
    display:none;
    background:#ff9ad6;
    box-shadow: 0 18px 40px rgba(0,0,0,.25);
    z-index:5;
  }

  /* Panel */
  #panel{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:none;
    overflow:auto;
    padding:18px;
    -webkit-overflow-scrolling: touch;
    z-index:10;
  }
  .inner{
    max-width:900px;
    margin:0 auto;
    padding:16px;
    border-radius:20px;
    background: rgba(255,255,255,.08);
    border: 1px solid rgba(255,255,255,.14);
  }

  /* Envelopes */
  .envelope{
    background:#ffffff14;
    padding:18px;
    margin:14px 0;
    border-radius:18px;
    cursor:pointer;
    border: 1px solid rgba(255,255,255,.14);
  }

  /* Slideshow */
  .slideshow{
    position:relative;
    width:100%;
    aspect-ratio:16/10;
    margin-top:16px;
    border-radius:16px;
    overflow:hidden;
    background: rgba(0,0,0,.25);
    border: 1px solid rgba(255,255,255,.14);
  }
  .slide{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    object-fit:cover;
    opacity:0;
    transition:opacity .9s;
  }
  .slide.show{ opacity:1; }

  .backBtn{
    background: rgba(255,255,255,.14);
    color:white;
  }

  video{
    width:100%;
    margin-top:16px;
    border-radius:16px;
    background: rgba(0,0,0,.35);
    border: 1px solid rgba(255,255,255,.14);
  }

  /* Fireworks (CSS) */
  .fireworks{
    position:fixed;
    inset:0;
    pointer-events:none;
    display:none;
    z-index:2;
  }
  .fw{
    position:absolute; left:50%; top:50%;
    transform: translate(-50%,-50%);
    font-size: 34px;
    opacity:0;
    animation: pop 1.2s ease-out infinite;
    filter: drop-shadow(0 0 14px rgba(255,154,214,.35));
  }
  .fw:nth-child(1){ margin-left:-120px; margin-top:-90px; animation-delay:0s; }
  .fw:nth-child(2){ margin-left: 140px; margin-top:-80px; animation-delay:.2s; }
  .fw:nth-child(3){ margin-left:-160px; margin-top: 90px; animation-delay:.35s; }
  .fw:nth-child(4){ margin-left: 120px; margin-top: 110px; animation-delay:.5s; }
  .fw:nth-child(5){ margin-left: 0px;  margin-top: -140px; animation-delay:.65s; }
  @keyframes pop{
    0%{ transform: translate(-50%,-50%) scale(.7); opacity:0; }
    20%{ opacity:1; }
    100%{ transform: translate(-50%,-50%) scale(1.25); opacity:0; }
  }

  /* Screen is above fireworks */
  .center{ position:relative; z-index:3; }

  /* Black intro + pink special background */
  body.bg-black{ background:#000; }
  body.bg-pink{
    background:
      radial-gradient(900px 600px at 20% 20%, rgba(255,91,181,.55), transparent 60%),
      radial-gradient(900px 600px at 80% 30%, rgba(255,154,214,.42), transparent 62%),
      linear-gradient(180deg, #ff5bb5, #7a003c);
  }
</style>
</head>

<body class="bg-black">

<div class="fireworks" id="fireworks">
  <div class="fw">üéÜ</div><div class="fw">üéá</div><div class="fw">üéÜ</div><div class="fw">üéá</div><div class="fw">üéÜ</div>
</div>

<div class="center">
  <div id="screen"></div>
</div>

<button id="giftBtn">üéÅ Open gifts</button>

<div id="panel">
  <div class="inner">

    <div id="choose">
      <h2>Open your gifts üéÅ</h2>
      <div class="envelope" onclick="showGift1()">üíå Gift 1 ‚Äî Une vid√©o</div>
      <div class="envelope" onclick="showGift2()">üíå Gift 2 ‚Äî Our love story</div>
      <button class="backBtn" onclick="closePanel()">Fermer</button>
    </div>

    <!-- Gift 1 -->
    <div id="gift1" style="display:none;">
      <button class="backBtn" onclick="back()">‚Üê Revenir</button>
      <h3>üé• Gift 1</h3>

      <video id="videoGift1"
             src="gift1.mp4"
             controls
             playsinline
             preload="metadata">
      </video>
    </div>

    <!-- Gift 2 -->
    <div id="gift2" style="display:none;">
      <button class="backBtn" onclick="back()">‚Üê Revenir</button>
      <h3>Our love story üíñ</h3>

      <div class="slideshow" id="slideshow">
        <img class="slide show" src="photos/photo1.jpg">
        <img class="slide" src="photos/photo2.jpg">
        <img class="slide" src="photos/photo3.jpg">
        <img class="slide" src="photos/photo4.jpg">
        <img class="slide" src="photos/photo5.jpg">
        <img class="slide" src="photos/photo6.jpg">
      </div>
    </div>

  </div>
</div>

<script>
  const screen = document.getElementById("screen");
  const giftBtn = document.getElementById("giftBtn");
  const panel = document.getElementById("panel");
  const fireworks = document.getElementById("fireworks");

  // ‚úÖ Phrase corrig√©e (juste correction orthographe)
  const wishLine = "I want you all to wish a happy birthday to my man.";

  // ‚úÖ Ton texte: je ne change rien au contenu (je le mets juste dans une string)
  const toFathiText =
"To Fathi : e n‚Äôarrive m√™me pas √† expliquer √† quel point je suis reconnaissante de t‚Äôavoir dans ma vie. "+
"Avec toi, je me sens en s√©curit√©, aim√©e, choisie‚Ä¶ et tellement fi√®re d‚Äô√™tre ta femme.\n\n"+
"Je suis vraiment heureuse de vivre avec toi, de vivre toutes nos habitudes, nos fous rires du quotidien, "+
"et tous ces petits moments qui deviennent pr√©cieux juste parce que c‚Äôest avec toi.\n\n"+
"Tu es mon calme, ma force, mon bonheur. Je suis super chanceuse‚Ä¶ vraiment.\n\n"+
"Merci d‚Äô√™tre toi, merci d'avoir tenu √† ta promesse...";

  // Steps: on change SEULEMENT l'intro comme tu as demand√©
  const steps = [
    // Intro noir + chiffres au centre
    { c:"n", t:"1", d:900, bg:"black", fw:false },
    { c:"n", t:"2", d:900, bg:"black", fw:false },
    { c:"n", t:"3", d:900, bg:"black", fw:false },

    // Message rose + feux d'artifices
    { c:"msg", t:wishLine, d:2600, bg:"pink", fw:true },

    // Ton texte (inchang√©)
    { c:"msg", t:toFathiText, d:8200, bg:null, fw:false },

    // Le reste comme avant
    { c:"love", t:"Je t‚Äôaime plus que tu l'imagines üíû", d:2400, bg:null, fw:false },
    { c:"hb", t:"Happy birthday mon amour üéÇ‚ú®", d:999999, bg:null, fw:true }
  ];

  function setBackground(bg){
    document.body.classList.remove("bg-black","bg-pink");
    if(bg === "black") document.body.classList.add("bg-black");
    if(bg === "pink") document.body.classList.add("bg-pink");
  }

  function setFireworks(on){
    fireworks.style.display = on ? "block" : "none";
  }

  let i = 0;
  function nextStep(){
    const s = steps[i];

    // background control
    if(s.bg !== null) setBackground(s.bg);

    // fireworks control
    setFireworks(!!s.fw);

    // render text
    screen.className = s.c;
    screen.textContent = s.t;

    if(s.c === "hb"){
      giftBtn.style.display = "block";
      return;
    }
    setTimeout(()=>{ i++; nextStep(); }, s.d);
  }
  nextStep();

  // Gifts open
  giftBtn.onclick = () => panel.style.display = "block";
  function closePanel(){ panel.style.display = "none"; }
  function back(){
    document.getElementById("gift1").style.display = "none";
    document.getElementById("gift2").style.display = "none";
    document.getElementById("choose").style.display = "block";
  }
  function showGift1(){
    document.getElementById("choose").style.display = "none";
    document.getElementById("gift1").style.display = "block";
  }
  function showGift2(){
    document.getElementById("choose").style.display = "none";
    document.getElementById("gift2").style.display = "block";
  }

  // Slideshow
  const slides = document.querySelectorAll("#slideshow .slide");
  let idx = 0;
  setInterval(()=>{
    slides[idx].classList.remove("show");
    idx = (idx + 1) % slides.length;
    slides[idx].classList.add("show");
  }, 2500);
</script>

</body>
</html>
